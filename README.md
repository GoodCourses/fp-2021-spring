# Haskell CLI. Домашнее задание на допуск к экзамену
## Дедлайн: 23:59, 14.06.21

В рамках этого домашнего задания вам нужно будет создать свой CLI (command line interface). Далее
описана функциональность, которую нужно поддержать.

### Команды

В вашем CLI должна быть реализована поддержка следующих команд:
1. `cat`, `echo`, `wc` — эти команды должны работать аналогично тому, как они ведут себя в Unix'овом терминале. Дополнительные флаги поддерживать не надо.
2. `grep` — базовая функциональность аналогична grep'у из Unix'ового терминала. На вход команде подаётся
регулярное выражение и текст в аргументе-файле/`stdin`. На выходе ожидается список всех строчек текста, в которых встречается заданный шаблон. Должна быть реализована поддержка двух флагов: `-A n` и `-B n`. При их указании дополнительно к строчке с шаблоном выводится `n` последующих/предшествующих строчек.
3. `shell` — команда, которой можно передать любую строку в качестве аргумента. Строка должна быть исполнена в Unix'овом терминале, а соответствующий `stdout` должен быть распечатан в вашем терминале.

### Переменные окружения

В вашем терминале должна быть реализована возможность задавать и испольтзовать переменные окружения.
Переменные должны задаваться с помощью выражения вида `export <var_name>=<var_val>`.
Вставка переменных в команды должна производиться аналогично соответствующей функциональности из Unix'ового терминала — с помощью символа `$`.

Повторите поведение Unix'ового терминала при работе с переменными окружения внутри одинарных и двойных 
кавычек.

Примеры использования переменных окружения:
```bash
> export varName="aaaa"
> echo $varName
aaaa

> export otherVar="bbb$varName"
> echo $otherVar
bbbaaaa

# Важный пример! В переменные окружения можно записывать другие команды.
> export echoVar=echo
> $echoVar "echo this"
echo this
```

### Пайплайны

В вашем терминале должна быть возможность объединять команды в пайплайны. Это режим, при котором `stdout` одной команды передаётся в качестве `stdin` в другую команду.
И так для произвольного количетсва последовательных команд.

Пример:
```bash
> cat test1.txt | grep -B 2 ".*le.*"
Valjean, at last
We see each other plain
Monsieur le Maire
------------------------------------------
Before you chain me up like a slave again
Listen to me, there is something I must do
This woman leaves behind a suffering child
```

## Дополнительные требования

### stack-проект

CLI должен быть оформлен в виде stack-проекта. Создать новый stack-проект можно с помощью
команды `stack new <name_of_project>`.

### Логичное деление на модули

В вашем проекте должно присутствовать логичное разбиение на модули. Писать код
всего CLI в одном файле строго запрещается. Не забывайте выносить типы предметной области
в отдельный модуль `Type.hs`.

### Тесты

Вся основная функциональность вашего CLI должна быть покрыта тестами, которые можно запустить
с помощью команды `stack test`. В качестве тестового фреймворка рекомендуется
использовать [hspec](https://hackage.haskell.org/package/hspec).

# Правила сдачи домашних заданий

Все домашние задания выполняются студентами в **личных форках репозитория**. 

После выполнения домашки необходимо создать PR со всеми релевантными изменениями из ветки `final-hw-2-dev` в `final-hw-2`
и добавить преподавателя (@alexkanerus) в assignee.
Название PR должно иметь следующий формат: "HW <номер_домашки>. <Фамилия студента> <Имя студента>".
После этого нужно кинуть ссылку на PR в преподавателю в телеграм (@alexkanerus).
