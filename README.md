# Домашнее задание по 13 лекции (04.05.21)
## Дедлайн: 14.05.21, 23:59

В рамках каждого из описанных ниже заданий нужно реализовать отдельный скрипт, который можно запутсить из консоли. Заготовки для каждого задания уже созданы.

Перед сдачей задания проверьте, что созданные вами скрипты действительно собираются и работают. 
Скомпилировать скрипт можно командой `stack ghc`.

## 1. Разогрев (1 б)

Реализуйте скрипт, который при запуске в бесконечном цикле считывает с консоли пользователський ввод.
Каждая введённая строка должна дублироваться в `stdout` (терминал) и в файл с названием `text_copy_<N>.log`. `N` — номер файла с логом. Нумерация `N` начинается с `0`.

Если колчиество записанных строк в файл `text_copy_<N>.log` достигло `1000`, то должен создаваться файл
`text_copy_<N+1>.log`. Запись последующих строк должна производиться в него, а хэндл файла `text_copy_<N>.log` должен быть закрыт.

## 2. wc (1 б)

Реализуйте скрипт, который работает так же, как `Unix`-овский скрипт `wc`: выводит число слов, строк
и байт в файле.
Никакие дополнительные параметры `wc` поддерживать не надо. 

Скрипт должен работать за один проход по файлу.

Пример работы скрипта:
```
$> ./task2 sem14.hs
     107     491    4385 sem14.hs
```

## 3. find (1 б)

Реализуйте скрипт, который рекурсивно обходит заданную директорию и все её поддиректории и 
выводит пути до файлов, _имена которых_ удовлетворяют заданному шаблону.

Шаблон может представлять из себя одну из следующих строк:
1. "*<строка>" — матчит любую строку, которая заканчивается на "<строка>".
2. "<строка>*" — матчит любую строку, которая начинается на "<строка>".
3. "<строка>" — матчит любую строку, которая совпадает со строкой "<строка>".

Во всех случаях <строка> может быть пустой.

Пример работы скрипта:
```
$> ./task3 /path/to/dir "*.hs"
/path/to/dir/task.hs
/path/to/dir/path/to/subdir/task_1.hs
```

## 4. Продвинутый KVS (2 б)

Создайте тип данных `FileSystemKVS` и сделайте его представителем класса типов `KVS`.

`FileSystemKVS` должен хранить объекты на диске в установленной директории.
Имя каждого объекта должно кодироваться укникальным хэшем (смотри заготовку).

Также выполните все задания, помеченные в файле меткой `TODO`.

## 5. Сортировка слиянием на файлах (3 б)
### Дедлайн: 21.05.21, 23:59

На вход скрипту подаётся несколько файлов. В каждом из файлов записаны строчки с числами в порядке
их возрастания.

Скрипт должен генерировать новый файл, в котором будут записаны все числа из переданных файлов в порядке возрастания.

Скрипт должен читать каждый переданный ему файл ровно один раз. И, что не менее важно, в каждый момент
времени в памяти скрипта должно храниться не более, чем `O(N)` сортируемых чисел, где `N` — число входных 
файлов.

Пример работы скрипта:
```
$> cat file1.txt
1
3
5

$> cat file2.txt
2
4
6

$> cat file3.txt
7

$> ./task5 file1.txt file2.txt file3.txt
$> cat sort_res.txt
1 2 3 4 5 6 7
```

# Правила сдачи домашних заданий

Все домашние задания выполняются студентами в **личных форках репозитория**. 

Новые задания будут появляться в ветке `hw<номер_домашки>`.
Каждая домашка выполняется студентом в ветке `hw<номер_домашки>-dev`.

После выполнения домашки необходимо создать PR со всеми релевантными изменениями из ветки `hw<номер_домашки>-dev` в `hw<номер_домашки>`
и добавить преподавателя (@AlexKaneRUS) в assignee.
Название PR должно иметь следующий формат: "HW <номер_домашки>. <Фамилия студента> <Имя студента>".
После этого нужно кинуть ссылку на PR в преподавателю в телеграм (@AlexKaneRUS).
